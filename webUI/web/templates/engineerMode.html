{% extends "base.html" %} {% block title %} Engineer Mode {% endblock %} {%
block styles %}
<style type="text/css">
    .sensorAdjust,
    .threshold,
    .fwSetting,
    .manualSetting,
    .pumpExchange,
    .filterSetting,
    .restoreSetting,
    .exportSetting,
    .importSetting,
    .pidSetting_pressure,
    .pidSetting_temp,
    .inspection_time,
    .network_option,
    .auto_setting,
    .screen_setting,
    .defaultSetting,
    .modbus_ip_setting,
    .rack_setting,
    .valve_setting,
    .switch_version {
        border: 2px solid #008000;

        border-radius: 10px;
        margin: 2em 0;
        padding: 20px;
        position: relative;
    }

    .sensorAdjust::before,
    .threshold::before,
    .fwSetting::before,
    .manualSetting::before,
    .pumpExchange::before,
    .filterSetting::before,
    .restoreSetting::before,
    .exportSetting::before,
    .importSetting::before,
    .pidSetting_pressure::before,
    .pidSetting_temp::before,
    .inspection_time::before,
    .network_option::before,
    .auto_setting::before,
    .screen_setting::before,
    .defaultSetting::before,
    .modbus_ip_setting::before,
    .rack_setting::before,
    .valve_setting::before,
    .switch_version::before {
        background-color: #fff;
        color: #000000;
        content: attr(data-before);
        font-weight: bold;
        left: 1em;
        padding: 0 0.5em;
        position: absolute;
        top: -1em;
    }

    .tdCenterAlign {
        text-align: center;
    }

    .navbar .navbar-nav .nav-link:hover {
        background-color: #778899;
        color: #fff;
    }

    .nav-engineermode {
        background-color: #008000 !important;
        color: #fff !important;
    }

    .showScroll {
        overflow-y: scroll;
    }

    .hidden {
        display: none;
    }

    .row {
        line-height: 1.4rem;
        min-height: 3rem;
        display: flex;
        align-items: center;
    }

    .row:nth-child(even) {
        background-color: rgba(0, 0, 0, 0.09);
    }

    .row:last-child {
        background-color: white;
    }

    p {
        margin: 0;
    }

    .row:hover {
        background-color: #e0e0e0;
    }

    .row:first-child:hover,
    .row:last-child:hover {
        background-color: #fff;
    }

    .row_sticky {
        position: sticky;
        top: 90px;
        background-color: white;
        padding: 10px 0px;
        z-index: 99;
    }

    .btn_box {
        display: flex;
        justify-content: space-between;
        align-items: end;
    }

    .button_box {
        display: flex;
        justify-content: end;
    }

    .toggle {
        transform: scale(1.4);
    }

    .box_enable {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .content_box {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .line {
        outline: 1px solid black;
    }

    .content_box .form-control {
        text-align: center;
    }

    .trap_box {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .gone {
        display: none;
    }

    .push {
        margin-left: 0px;
    }

    .push_box {
        display: flex;
        align-items: center;
    }

    .title.collapsed .content {
        display: none;
    }

    .data-before-trigger {
        position: absolute;
        top: -14px;
        left: 21px;
        width: 550px;
        height: 22px;
        cursor: pointer;
    }

    .title::before {
        content: attr(data-before);
    }

    .none {
        display: none;
    }

    .sideNum {
        display: flex;
        align-items: center;
    }

    .toggle {
        transform: scale(1.4);
    }

    .result-box {
        padding-left: 70px;
    }

    .result {
        border: 2px solid #002e00;
        width: 90px;
        height: 35px;
        text-align: center;
        margin-left: 20px;
        font-weight: 500;
        align-items: center;
        display: flex;
        justify-content: center;
        border-radius: 4px;
        box-shadow: 0.5px 0.5px 1px 1px #002e00;
    }
</style>
{% endblock %} {% block content %}
<div class="container-fluid" style="margin-top: 100px; margin-bottom: 60px">
    {% if user == 'superuser' %}
    <!-- Sensor Adjust -->
    <div class="sensorAdjust title" data-label="Sensor Adjustment">
        <div class="data-before-trigger"></div>
        <div class="content">
            <div class="row row_sticky">
                <div class="col-4">
                    <p></p>
                </div>
                <div class="col-1">
                    <p>Factor</p>
                </div>
                <div class="col-1">
                    <p>Offset</p>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Coolant Supply Temperature (T1)</p>
                </div>
                <div class="col-1">
                    <input id="Temp_ClntSply_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Temp_ClntSply_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row t1sp_set">
                <div class="col-4">
                    <p>Coolant Supply Temperature Spare (T1sp)</p>
                </div>
                <div class="col-1">
                    <input id="Temp_ClntSplySpare_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Temp_ClntSplySpare_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Coolant Return Temperature (T2)</p>
                </div>
                <div class="col-1">
                    <input id="Temp_ClntRtn_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Temp_ClntRtn_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row t2sp_set">
                <div class="col-4">
                    <p>Coolant Return Temperature Spare (T2sp)</p>
                </div>
                <div class="col-1">
                    <input id="Temp_ClntRtnSpare_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Temp_ClntRtnSpare_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Coolant Supply Pressure (P1)</p>
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntSply_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntSply_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row p1sp_set">
                <div class="col-4">
                    <p>Coolant Supply Pressure Spare (P1sp)</p>
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntSplySpare_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntSplySpare_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Coolant Return Pressure (P2)</p>
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntRtn_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntRtn_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row p2sp_set">
                <div class="col-4">
                    <p>Coolant Return Pressure Spare (P2sp)</p>
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntRtnSpare_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Prsr_ClntRtnSpare_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Filter Inlet Pressure</p>
                </div>
                <div class="col-1">
                    <input id="Prsr_FltIn_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Prsr_FltIn_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Filter Outlet Pressure</p>
                </div>
                <div class="col-1">
                    <input id="Prsr_FltOut_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Prsr_FltOut_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Coolant Flow Rate (F1)</p>
                </div>
                <div class="col-1">
                    <input id="Clnt_Flow_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Clnt_Flow_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Ambient Temperature (Ta)</p>
                </div>
                <div class="col-1">
                    <input id="Ambient_Temp_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Ambient_Temp_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Relative Humidity (RH)</p>
                </div>
                <div class="col-1">
                    <input id="Relative_Humid_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Relative_Humid_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Dew Point Temperature (TDp)</p>
                </div>
                <div class="col-1">
                    <input id="Dew_Point_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Dew_Point_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row" id="pH_adjust_set">
                <div class="col-4">
                    <p>pH (PH)</p>
                </div>
                <div class="col-1">
                    <input id="pH_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="pH_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row" id="cdct_adjust_set">
                <div class="col-4">
                    <p>Conductivity (CON)</p>
                </div>
                <div class="col-1">
                    <input id="Cdct_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Cdct_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row" id="tur_adjust_set">
                <div class="col-4">
                    <p>Turbidity (Tur)</p>
                </div>
                <div class="col-1">
                    <input id="Tbd_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Tbd_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Instant Power Consumption</p>
                </div>
                <div class="col-1">
                    <input id="Power_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Power_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <p>Average Current</p>
                </div>
                <div class="col-1">
                    <input id="AC_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="AC_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Heat Capacity</p>
                </div>
                <div class="col-1">
                    <input id="Heat_Capacity_Factor" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
                <div class="col-1">
                    <input id="Heat_Capacity_Offset" class="form-control adjust keyboard_number" type="text" placeholder="" />
                </div>
            </div>
            <div class="row button_box">
                <div class="col-4"></div>
                <div class="col-8 btn_box">
                    <div>
                        <button id="adjust_apply" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Apply
                        </button>
                        <button id="adjust_cancel" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Cancel
                        </button>
                    </div>
                    <div>
                        <button id="resetAdjust" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Restore to Factory Default
                        </button>
                        <input type="file" id="adjust_file" style="display: none" accept=".json" />
                        <button id="adjust_import" class="btn btn-outline-success importBtn_adjust" type="button" style="margin-right: 10px; margin-top: 20px">
                            Import from File
                        </button>
                        <button id="adjust_export" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Export to File
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Threshold Setting -->
    <div class="threshold title" data-label="Alert Threshold Setting">
        <div class="data-before-trigger"></div>
        <div class="content">
            <div class="row row_sticky">
                <div class="col-3">
                    <div class="col-2">
                        <p></p>
                    </div>
                </div>

                <div class="col-9 content_box">
                    <div class="col-1">
                        <p>Warning Lower</p>
                    </div>
                    <div class="col-1">
                        <p>Warning Reset</p>
                    </div>
                    <div class="col-1">
                        <p>Warning Upper</p>
                    </div>
                    <div class="col-1">
                        <p>Warning Reset</p>
                    </div>
                    <div class="col-1">
                        <p>Trap Enable</p>
                    </div>
                    <div class="col-1">
                        <p>Alert Lower</p>
                    </div>
                    <div class="col-1">
                        <p>Alert Reset</p>
                    </div>
                    <div class="col-1">
                        <p>Alert Upper</p>
                    </div>
                    <div class="col-1">
                        <p>Alert Reset</p>
                    </div>
                    <div class="col-1">
                        <p>Trap Enable</p>
                    </div>
                    <div class="col-1">
                        <p>Delay (Sec)</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Coolant Supply Temperature (T1):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_TempClntSply" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_TempClntSply" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_TempClntSply_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_TempClntSply" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_TempClntSply" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_TempClntSply_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntSply" class="form-control delay keyboard_onlyNumber" type="text" />
                    </div>
                </div>
            </div>
            <div class="row t1sp_set">
                <div class="col-3">
                    <p>Coolant Supply Temperature Spare (T1sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_TempClntSplySpare" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_TempClntSplySpare" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_TempClntSplySpare_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_TempClntSplySpare" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_TempClntSplySpare" class="form-control thrshd keyboard_number" type="text" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_TempClntSplySpare_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntSplySpare" class="form-control delay keyboard_onlyNumber" type="text" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Coolant Return Temperature (T2):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_TempClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_TempClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_TempClntRtn_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_TempClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_TempClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_TempClntRtn_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntRtn" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Coolant Return Temperature Spare (T2sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_TempClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_TempClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_TempClntRtnSpare_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_TempClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_TempClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_TempClntRtnSpare_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntRtnSpare" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Coolant Supply Pressure (P1):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_PrsrClntSply" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrClntSply" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_PrsrClntSply_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_PrsrClntSply" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrClntSply" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_PrsrClntSply_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntSply" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row p1sp_set">
                <div class="col-3">
                    <p>Coolant Supply Pressure Spare (P1sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_PrsrClntSplySpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrClntSplySpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_PrsrClntSplySpare_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_PrsrClntSplySpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrClntSplySpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_PrsrClntSplySpare_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntSplySpare" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Coolant Return Pressure (P2):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_PrsrClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_PrsrClntRtn_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_PrsrClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrClntRtn" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_PrsrClntRtn_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntRtn" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row p2sp_set">
                <div class="col-3">
                    <p>Coolant Return Pressure Spare (P2sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_PrsrClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_PrsrClntRtnSpare_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_A_PrsrClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrClntRtnSpare" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_PrsrClntRtnSpare_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntRtnSpare" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Filter Inlet Pressure (P3):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_PrsrFltIn_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrFltIn_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_PrsrFltIn_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrFltIn_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_PrsrFltIn_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_PrsrFltIn_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrFltIn_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_PrsrFltIn_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrFltIn_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_PrsrFltIn_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrFltIn" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Filter Outlet Pressure (P4)_P3-P4:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_PrsrFltOut_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_PrsrFltOut_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_PrsrFltOut_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>

                    <div class="col-1">
                        <input id="Thr_A_PrsrFltOut_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_PrsrFltOut_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_PrsrFltOut_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrFltOut" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Coolant Flow Rate (F1):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_ClntFlow" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_ClntFlow" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>

                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_ClntFlow_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_ClntFlow" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_ClntFlow" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_ClntFlow_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_ClntFlow" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Ambient Temperature (T a):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_AmbientTemp_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_AmbientTemp_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_AmbientTemp_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_AmbientTemp_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_AmbientTemp_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_AmbientTemp_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_AmbientTemp_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_AmbientTemp_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_AmbientTemp_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_AmbientTemp_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_AmbientTemp" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Relative Humidity (RH):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_RelativeHumid_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_RelativeHumid_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_RelativeHumid_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_RelativeHumid_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_RelativeHumid_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_RelativeHumid_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_RelativeHumid_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_RelativeHumid_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_RelativeHumid_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_RelativeHumid_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_RelativeHumid" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Dew Point Temperature (TDp)_T1-TDP:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_DewPoint" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_DewPoint" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>

                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_DewPoint_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_DewPoint" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_DewPoint" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_DewPoint_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_DewPoint" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>


            <div class="row" id="pH_thrshd_set">
                <div class="col-3">
                    <p>pH (PH):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_pH_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_pH_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_pH_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_pH_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_pH_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_pH_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_pH_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>

                    <div class="col-1">
                        <input id="Thr_A_pH_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_pH_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_pH_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_pH" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row" id="cdct_thrshd_set">
                <div class="col-3">
                    <p>Conductivity (CON):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_Cdct_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_Cdct_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Cdct_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_Cdct_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_Cdct_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Cdct_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_Cdct_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Cdct_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_Cdct_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_Cdct_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Cdct" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row" id="tur_thrshd_set">
                <div class="col-3">
                    <p>Turbidity (Tur):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1">
                        <input id="Thr_W_Tbt_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_Tbt_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Tbt_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_Tbt_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_Tbt_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Tbt_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_Tbt_L" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Tbt_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_Tbt_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_Tbt_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Tbt" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Average Current:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1">
                        <input id="Thr_W_AC_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_W_Rst_AC_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="W_AC_trap" />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>

                    <div class="col-1">
                        <input id="Thr_A_AC_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1">
                        <input id="Thr_A_Rst_AC_H" class="form-control thrshd keyboard_number" type="text" placeholder="" />
                    </div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="A_AC_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_AC" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Device] Inv1 OverLoad:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>

                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inv1_OverLoad_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inv1_OverLoad" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Device] Inv2 OverLoad:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inv2_OverLoad_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inv2_OverLoad" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Device] Inv3 OverLoad:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inv3_OverLoad_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inv3_OverLoad" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Device] Fan OverLoad1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan_OverLoad1_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan_OverLoad1" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Device] Fan OverLoad2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan_OverLoad2_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan_OverLoad2" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Device] Inv1 Error:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>

                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inv1_Error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inv1_Error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Device] Inv2 Error:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inv2_Error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inv2_Error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Device] Inv3 Error:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inv3_Error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inv3_Error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Device] ATS:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_ATS_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_ATS" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Inverter1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inverter1_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inverter1_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Inverter2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inverter2_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inverter2_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Inverter3:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Inverter3_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Inverter3_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Communication] Coolant Flow Meter:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Coolant_Flow_Meter_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Coolant_Flow_Meter_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Communication] Ambient Temperature (Ta):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_AmbientTemp_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_AmbientTemp_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Communication] Relative Humidity (RH):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_RelativeHumid_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_RelativeHumid_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col-3">
                    <p>[Communication] Dew Point Temperature (TDp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_DewPoint_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_DewPoint_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row" id="pH_comm_set">
                <div class="col-3">
                    <p>[Communication] pH Sensor:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_pH_Sensor_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_pH_Sensor_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row" id="cdct_comm_set">
                <div class="col-3">
                    <p>[Communication] Conductivity Sensor:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Conductivity_Sensor_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Conductivity_Sensor_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row" id="tur_comm_set">
                <div class="col-3">
                    <p>[Communication] Turbidity Sensor:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Turbidity_Sensor_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Turbidity_Sensor_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] ATS1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_ATS1_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_ATS1_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] ATS2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_ATS2_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_ATS2_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Power Meter:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Power_Meter_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Power_Meter_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Average Current:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Average_Current_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_average_current_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Fan 1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan1Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan1Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Fan 2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan2Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan2Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Communication] Fan 3:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan3Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan3Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row" id="Fan4_comm_set">
                <div class="col-3">
                    <p>[Communication] Fan 4:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan4Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan4Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3" id="Fan5_name">
                    <p>[Communication] Fan 5:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan5Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan5Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3" id="Fan6_name">
                    <p>[Communication] Fan 6:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan6Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan6Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3" id="Fan7_name">
                    <p>[Communication] Fan 7:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan7Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan7Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row" id="Fan8_comm_set">
                <div class="col-3">
                    <p>[Communication] Fan 8:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Fan8Com_Communication_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Fan8Com_Communication" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>[Broken] Coolant Supply Temperature (T1):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_TempClntSply_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntSply_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row t1sp_set">
                <div class="col-3">
                    <p>[Broken] Coolant Supply Temperature Spare (T1sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_TempClntSplySpare_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntSplySpare_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Broken] Coolant Return Temperature (T2):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_TempClntRtn_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntRtn_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Broken] Coolant Return Temperature Spare (T2sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_TempClntRtnSpare_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_TempClntRtnSpare_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Broken] Coolant Supply Pressure (P1):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_PrsrClntSply_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntSply_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row p1sp_set">
                <div class="col-3">
                    <p>[Broken] Coolant Supply Pressure Spare (P1sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_PrsrClntSplySpare_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntSplySpare_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Broken] Coolant Return Pressure (P2):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_PrsrClntRtn_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntRtn_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row p2sp_set">
                <div class="col-3">
                    <p>[Broken] Coolant Return Pressure Spare (P2sp):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_PrsrClntRtnSpare_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrClntRtnSpare_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row p2sp_set">
                <div class="col-3">
                    <p>[Broken] Filter Inlet Pressure (P3):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_PrsrFltIn_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrFltIn_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row p2sp_set">
                <div class="col-3">
                    <p>[Broken] Filter Outlet Pressure (P4):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_PrsrFltOut_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_PrsrFltOut_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>[Broken] Coolant Flow Rate (F1):</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_Clnt_Flow_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_Clnt_Flow_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Leakage 1 Leak:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_leakage1_leak_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_leakage1_leak" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Leakage 1 Broken:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_leakage1_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_leakage1_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Coolant Level 1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_level1_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_level1" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Coolant Level 2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_level2_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_level2" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Coolant Level 3:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_level3_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_level3" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>24V Power Supply 1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_power24v1_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_power24v1" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>24V Power Supply 2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_power24v2_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_power24v2" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>12V Power Supply 1:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_power12v1_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_power12v1" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>12V Power Supply 2:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_power12v2_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_power12v2" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Main MC Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_main_mc_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_main_mc_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 1 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan1_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan1_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 2 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan2_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan2_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 3 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan3_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan3_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 4 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan4_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan4_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 5 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan5_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan5_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 6 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan6_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan6_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 7 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan7_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan7_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>FAN 8 Alarm Status:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_fan8_error_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_fan8_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row level_set">
                <div class="col-3">
                    <p>Rack:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_rack_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_rack_error" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>Low Coolant Level Warning:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>

                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_low_coolant_level_warning_trap" />
                    </div>
                    <div class="col-1"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>PC 1 Error:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_pc1_error_trap" />
                    </div>
                    <div class="col-1"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>PC 2 Error:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_pc2_error_trap" />
                    </div>
                    <div class="col-1"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <p>PLC:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_plc_trap" />
                    </div>
                    <div class="col-1"></div>
                </div>
            </div>
            <!--<div class="row">
                <div class="col-3">
                    <p>Rack Leakage Sensor 1 Leak:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_rack_leakage1_leak_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_rack_leakage1_leak" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Rack Leakage Sensor 1 Broken:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_rack_leakage1_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_rack_leakage1_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Rack Leakage Sensor 2 Leak:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_rack_leakage2_leak_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_rack_leakage2_leak" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Rack Leakage Sensor 2 Broken:</p>
                </div>
                <div class="col-9 content_box">
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1"></div>
                    <div class="col-1 trap_box">
                        <input class="form-check-input toggle trap" type="checkbox" id="E_rack_leakage2_broken_trap" />
                    </div>
                    <div class="col-1">
                        <input id="Delay_rack_leakage2_broken" class="form-control delay keyboard_onlyNumber" type="text" placeholder="" />
                    </div>
                </div>
            </div>-->
            <!-- button -->
            <div class="row button_box">
                <div class="col-4"></div>
                <div class="col-8 btn_box">
                    <div>
                        <button id="thrshd_apply" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Apply
                        </button>
                        <button id="thrshd_cancel" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Cancel
                        </button>
                    </div>
                    <div>
                        {% if user == 'superuser' %}
                        <button id="resetThrshd" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Restore to Factory Default
                        </button>
                        {% endif %}
                        <input type="file" id="thrshd_file" style="display: none" accept=".json" />
                        <button id="thrshd_import" class="btn btn-outline-success importBtn_thrshd" type="button" style="margin-right: 10px; margin-top: 20px">
                            Import from File
                        </button>
                        <button id="thrshd_export" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Export to File
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PID Setting -->
    {% if user == 'superuser' %}
    <div class="pidSetting_temp title" data-default="collapsed" data-label="PID Setting">
        <div class="data-before-trigger"></div>
        <div class="content">
            <div class="row">
                <div class="col-4">
                    <p>Pressure Sample Time:</p>
                </div>
                <div class="col-2">
                    <input id="sample_time_pressure" class="form-control p_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Pressure KP:</p>
                </div>
                <div class="col-2">
                    <input id="kp_pressure" class="form-control p_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Pressure KI Time:</p>
                </div>
                <div class="col-2">
                    <input id="ki_time_pressure" class="form-control p_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Pressure KD:</p>
                </div>
                <div class="col-2">
                    <input id="kd_pressure" class="form-control p_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Pressure KD Time:</p>
                </div>
                <div class="col-2">
                    <input id="kd_time_pressure" class="form-control p_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-4">
                    <p>Temperature Sample Time:</p>
                </div>
                <div class="col-2">
                    <input id="sample_time_temp" class="form-control t_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Temperature KP:</p>
                </div>
                <div class="col-2">
                    <input id="kp_temp" class="form-control t_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Temperature KI Time:</p>
                </div>
                <div class="col-2">
                    <input id="ki_time_temp" class="form-control t_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Temperature KD:</p>
                </div>
                <div class="col-2">
                    <input id="kd_temp" class="form-control t_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Temperature KD Time:</p>
                </div>
                <div class="col-2">
                    <input id="kd_time_temp" class="form-control t_data keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>

            <div class="row button_box">
                <div class="col-4"></div>
                <div class="col-8 btn_box">
                    <div>
                        <button id="pid_setting_temp_apply" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                            Apply
                        </button>
                        <button id="pid_setting_temp_cancel" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                            Cancel
                        </button>
                    </div>
                    <div>
                        <button id="resetPID" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Restore to Factory Default
                        </button>
                        <input type="file" id="pid_file" style="display: none" accept=".json" />
                        <button id="pid_import" class="btn btn-outline-success pid_import" type="button" style="margin-right: 10px; margin-top: 20px">
                            Import from File
                        </button>
                        <button id="pid_export" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Export to File
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Version -->
    <div class="fwSetting title" data-default="collapsed" data-label="FW Setting">
        <div class="data-before-trigger"></div>
        <div class="content">
            <div class="row">
                <div class="col-4">
                    <p>Serial Number:</p>
                </div>
                <div class="col-2">
                    <input id="SN" class="form-control keyboard_text" data-kioskboard-specialcharacters="true" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Model:</p>
                </div>
                <div class="col-2">
                    <input id="Model" class="form-control keyboard_text" data-kioskboard-specialcharacters="true" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Version:</p>
                </div>
                <div class="col-2">
                    <input id="Version" class="form-control keyboard_text" data-kioskboard-specialcharacters="true" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Part Number:</p>
                </div>
                <div class="col-2">
                    <input id="PartNumber" class="form-control keyboard_text" data-kioskboard-specialcharacters="true" type="text" placeholder="" />
                </div>
            </div>
            <div class="row">
                <div class="col-4"></div>
                <div class="col-4">
                    <button id="version_apply" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                        Apply
                    </button>
                    <button id="version_cancel" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="auto_setting title" data-default="collapsed" data-label="Auto Mode Redundant Sensor Broken Setting">
        <div class="data-before-trigger"></div>
        <div class="content">


            <div class="row">
                <div class="col-4">
                    <p>Pump Speed when Pressure Sensor Broken:</p>
                </div>
                <div class="col-2">
                    <input id="auto_broken_pressure" class="form-control keyboard_onlyNumber" type="text" placeholder="" />
                </div>
                <div class="col-2">%</div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>
                        Pump Speed when Temperature Sensor Broken:
                    </p>
                </div>
                <div class="col-2">
                    <input id="auto_broken_temperature" class="form-control keyboard_onlyNumber" type="text" placeholder="" />
                </div>
                <div class="col-2">%</div>
            </div>
            <div class="row button_box">
                <div class="col-4"></div>
                <div class="col-8 btn_box">
                    <div>
                        <button id="auto_setting_apply" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                            Apply
                        </button>
                        <button id="auto_setting_cancel" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                            Cancel
                        </button>
                    </div>

                    <!-- <div>
                        <button id="resetAuto" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                            Restore to Factory Default
                        </button>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <div class="screen_setting title" data-default="collapsed" data-label="Status Indicator Setting">
        <div class="data-before-trigger"></div>
        <div class="content">
            <div class="row">
                <div class="col-4">
                    <p>Status Indicator Delay (sec) :</p>
                </div>
                <div class="col-2">
                    <input id="timeoutLight" class="form-control keyboard_onlyNumber" type="text" placeholder="" />
                </div>
            </div>
            <div class="col-8 btn_box">
                <div class="col-4">
                    <button id="apply_timeout_light" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                        Apply
                    </button>
                    <button id="cancel_timeout_light" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="switch_version title" data-default="collapsed" data-label="Switch Version">
        <div class="data-before-trigger"></div>
        <div class="content">
            <div class="row">
                <div class="col-4">
                    <p>Flow Value Filter:</p>
                </div>
                <div class="col-2 sideNum">
                    <select class="form-select" id="median_switch">
                        <option value="old">Disabled</option>
                        <option value="new">Enable</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Coolant Quality Meter:</p>
                </div>
                <div class="col-2 sideNum">
                    <select class="form-select" id="coolant_quality_meter_switch">
                        <option value="old">Disabled</option>
                        <option value="new">Enable</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <p>Fan Count:</p>
                </div>
                <div class="col-2 sideNum">
                    <select class="form-select" id="fan_count_switch">
                        <option value="old">6</option>
                        <option value="new">8</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col-4"></div>
                <div class="col-4">
                    <button id="ver_switch_apply" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                        Apply
                    </button>
                </div>
            </div>
        </div>
    </div>

    {% if (user == 'admin') or (user == 'superuser') %}

    <div class="rack_setting title" data-default="collapsed" data-label="Rack Enable Setting">
        <div class="data-before-trigger"></div>
        <div class="content">
            <!-- Rack 1 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 1 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack1_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 1 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack1_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 2 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 2 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack2_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 2 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack2_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 3 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 3 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack3_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 3 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack3_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 4 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 4 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack4_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 4 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack4_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 5 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 5 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack5_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 5 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack5_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 6 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 6 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack6_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 6 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack6_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 7 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 7 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack7_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 7 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack7_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 8 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 8 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack8_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 8 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack8_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 9 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 9 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack9_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 9 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack9_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <!-- Rack 10 -->
            <div class="row">
                <div class="col-4">
                    <p>Rack 10 Enable:</p>
                </div>
                <div class="col-2 push_box">
                    <input id="rack10_enable" class="push toggle form-check-input" type="checkbox" />
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-4">
                    <p>Rack 10 AODI module IP setting:</p>
                </div>
                <div class="col-2">
                    <input id="rack10_ip" class="form-control" type="text" placeholder="Enter IP" />
                </div>
            </div> -->

            <div class="row">
                <div class="col-4"></div>
                <div class="col-4">
                    <button id="update_rack" class="btn btn-outline-success" style="margin-right: 10px; margin-top: 20px">
                        Apply
                    </button>
                    <button id="cancel_rack" class="btn btn-outline-success" type="submit" style="margin-right: 10px; margin-top: 20px">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %} {% block scripts %}

<script>
    function cvtInputValue(val_in) {
        var val_cvt = val_in.replace(/[^0-9.-]/g, "");

        const negativeSignIndex = val_cvt.indexOf("-");
        if (negativeSignIndex > 0) {
            val_cvt = val_cvt.replace(/-/g, "");
            val_cvt = "-" + val_cvt;
        }

        const decimalPointIndex = val_cvt.indexOf(".");
        if (decimalPointIndex !== -1) {
            val_cvt =
                val_cvt.slice(0, decimalPointIndex + 1) +
                val_cvt.slice(decimalPointIndex + 1).replace(/\./g, "");
        }
        return val_cvt;
    }

    function cvtInputValueNoPnt(val_in) {
        var val_cvt = val_in.replace(/[^0-9]/g, "");

        const decimalPointIndex = val_cvt.indexOf(".");
        if (decimalPointIndex !== -1) {
            val_cvt =
                val_cvt.slice(0, decimalPointIndex + 1) +
                val_cvt.slice(decimalPointIndex + 1).replace(".", "");
        }
        return val_cvt;
    }

    jQuery(document).ready(function () {
        let user_status = false;
        let userType = "{{user}}";

        if (userType == "superuser") {
            user_status = true;
        }

        const trapElements = document.querySelectorAll(".trap");
        let trapIds = [];
        trapElements.forEach((element) => {
            trapIds.push(element.id);
        });

        const delayElements = document.querySelectorAll(".delay");
        let delayIds = [];
        delayElements.forEach((element) => {
            delayIds.push(element.id);
        });

        jQuery(".sensorAdjust").attr("data-before", "Sensor Adjustment ");
        jQuery(".threshold").attr("data-before", "Alert Threshold Setting ");
        jQuery(".fwSetting").attr("data-before", "FW Setting ");
        jQuery(".pidSetting_temp").attr("data-before", "PID Setting ");
        jQuery(".screen_setting").attr(
            "data-before",
            "Status Indicator Setting "
        );
        jQuery(".auto_setting").attr(
            "data-before",
            "Auto Mode Redundant Sensor Broken Setting "
        );
        jQuery(".auto_setting").attr(
            "data-before",
            "Auto Mode Redundant Sensor Broken Setting "
        );
        jQuery(".rack_setting").attr("data-before", "Rack Enable Setting ");
        jQuery(".switch_version").attr("data-before", "Switch Version ");

        $.ajax({
            url: "/get_data_engineerMode",
            method: "GET",
            success: function (data) {
                const {
                    thrshd,
                    sensor_adjust: adjust,
                    pid_temp,
                    pid_pressure,
                    inspection_time,
                    auto_setting,
                    visibility,
                    valve,
                    ver_switch,
                } = data;

                console.log(data);

                for (var key in adjust) {
                    if (adjust.hasOwnProperty(key)) {
                        var value = adjust[key];
                        var element = document.getElementById(key);
                        if (element !== null) {
                            if (
                                key.includes("_Offset") &&
                                key.includes("Flow")
                            ) {
                                element.value = value.toFixed(0);
                            } else {
                                element.value = value.toFixed(2);
                            }
                        }
                    }
                }

                for (var key in thrshd) {
                    if (thrshd.hasOwnProperty(key)) {
                        var value = thrshd[key];
                        var element = document.getElementById(key);

                        if (element) {
                            if (key.endsWith("_trap")) {
                                element.checked = value;
                            } else {
                                element.value = Math.round(value * 100) / 100;
                            }
                        }
                    }
                }

                for (key in pid_pressure) {
                    if (pid_pressure.hasOwnProperty(key)) {
                        var value = pid_pressure[key];
                        var element = document.getElementById(key);
                        if (element !== null) {
                            element.value = value;
                        }
                    }
                }

                for (key in pid_temp) {
                    if (pid_temp.hasOwnProperty(key)) {
                        var value = pid_temp[key];
                        var element = document.getElementById(key);
                        if (element !== null) {
                            element.value = value;
                        }
                    }
                }

                for (key in ver_switch) {
                    if (ver_switch.hasOwnProperty(key)) {
                        var value = ver_switch[key];
                        var element = document.getElementById(key);
                        if (element !== null) {
                            if (value) {
                                element.value = "old";
                            } else {
                                element.value = "new";
                            }
                        }
                    }
                }
                /*if(ver_switch["fan_count_switch"] === true){
                    $("#Fan4_comm_set, #Fan8_comm_set").hide();
                    $("#Fan5_name").text("[Communication] Fan 4:");
                    $("#Fan6_name").text("[Communication] Fan 5:");
                    $("#Fan7_name").text("[Communication] Fan 6:");
                }else{
                    $("#Fan4_comm_set, #Fan8_comm_set").show();
                    $("#Fan5_name").text("[Communication] Fan 5:");
                    $("#Fan6_name").text("[Communication] Fan 6:");
                    $("#Fan7_name").text("[Communication] Fan 7:");
                }

                if(ver_switch["coolant_quality_meter_switch"] === true){
                    $("#pH_adjust_set, #cdct_adjust_set, #tur_adjust_set").show();
                    $("#pH_thrshd_set, #cdct_thrshd_set, #tur_thrshd_set").show();
                    $("#pH_comm_set, #cdct_comm_set, #tur_comm_set").show();
                }else{
                    $("#pH_adjust_set, #cdct_adjust_set, #tur_adjust_set").hide();
                    $("#pH_thrshd_set, #cdct_thrshd_set, #tur_thrshd_set").hide();
                    $("#pH_comm_set, #cdct_comm_set, #tur_comm_set").hide();
                }*/

                for (key in inspection_time) {
                    if (inspection_time.hasOwnProperty(key)) {
                        var value = inspection_time[key];
                        var element = document.getElementById(key);
                        if (element !== null) {
                            element.value = value;
                        }
                    }
                }

                for (key in auto_setting) {
                    if (auto_setting.hasOwnProperty(key)) {
                        $("#auto_broken_temperature").val(auto_setting["auto_broken_temperature"]);
                        $("#auto_broken_pressure").val(auto_setting["auto_broken_pressure"]);
                    }
                }

                for (key in visibility) {
                    if (visibility.hasOwnProperty(key)) {
                        var value = visibility[key];
                        var element = document.getElementById(key);
                        if (element) {
                            element.checked = value;
                        }
                    }
                }

                for (key in visibility) {
                    if (visibility.hasOwnProperty(key)) {
                        var value = visibility[key];
                        var element = document.getElementById(key);
                        if (element) {
                            element.checked = value;
                        }
                    }
                }

                for (key in valve) {
                    if (valve.hasOwnProperty(key)) {
                        var value = valve[key];
                        altered_key = key + "_close_valve";
                        var element = document.getElementById(altered_key);
                        if (element) {
                            value = Math.round(value);
                            element.value = value;
                        }
                    }
                }
            },
            error: function (error) {
                console.error("Error fetching data:", error);
            },
        });

        if (userType == "superuser") {
            $.ajax({
                url: "/read_version",
                method: "GET",
                success: function (data) {
                    json_data = data["FW_Info"];
                    plc_version = data["plc_version"];

                    for (var key in json_data) {
                        if (json_data.hasOwnProperty(key)) {
                            var value = json_data[key];
                            var element = document.getElementById(key);
                            if (["SN", "Model", "Version", "PartNumber"].includes(key)) {
                                element.value = value;
                            }
                        }
                    }
                    $("#PLC").val(plc_version);
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        }

        $.ajax({
            url: "/get_timeout",
            method: "GET",
            success: function (data) {
                for (var key in data) {
                    if (data.hasOwnProperty(key)) {
                        var value = data[key];
                        var element = document.getElementById(key);
                        element.value = value;
                    }
                }
            },
            error: function (error) {
                console.error("Error fetching data:", error);
            },
        });
        $("#adjust_apply").click(function () {
            var inputs = {};
            $(".adjust").each(function () {
                var input_id = $(this).attr("id");
                var input_val = $(this).val();
                var check_val = cvtInputValue(input_val);
                if (input_val !== check_val || input_val === "") {
                    Swal.fire({
                        title: "Error",
                        text: "The format of setting is not valid",
                        icon: "error",
                        confirmButtonText: "OK",
                    });

                    return;
                }
                inputs[input_id] = input_val;
            });

            $.ajax({
                type: "POST",
                url: "/writeSensorAdjust",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(inputs),
                success: function (response) {
                    Swal.fire({
                        title: "Success",
                        text: response,
                        icon: "success",
                        confirmButtonText: "OK",
                    });
                },
            });
        });

        $("#adjust_cancel").click(function () {
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { sensor_adjust: adjust } = data;

                    for (var key in adjust) {
                        if (adjust.hasOwnProperty(key)) {
                            var value = adjust[key];
                            var element = document.getElementById(key);
                            if (element !== null) {
                                if (
                                    key.includes("_Offset") &&
                                    key.includes("Flow")
                                ) {
                                    element.value = value.toFixed(0);
                                } else {
                                    element.value = value.toFixed(2);
                                }
                            }
                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#thrshd_apply").click(function () {
            var inputs = {};
            $(".thrshd").each(function () {
                let issue = false;
                var input_id = $(this).attr("id");
                var input_val = $(this).val();
                var check_val = cvtInputValue(input_val);
                if (input_val !== check_val || input_val === "") {
                    Swal.fire({
                        title: "Error",
                        text: "Setting Format is not Valid",
                        icon: "error",
                        confirmButtonText: "OK",
                    });

                    return;
                }
                inputs[input_id] = input_val;
            });

            $(".delay").each(function () {
                var input_id = $(this).attr("id");
                var input_val = $(this).val();
                var check_val = cvtInputValueNoPnt(input_val);
                if (input_val !== check_val || input_val === "") {
                    Swal.fire({
                        title: "Error",
                        text: "Delay Time Should be Integer",
                        icon: "error",
                        confirmButtonText: "OK",
                    });

                    issue = true;
                    return;
                } else {
                    issue = false;
                }
                if (input_id.includes("Delay") && input_val > 30000) {
                    Swal.fire({
                        title: "Error",
                        text: "Delay Time Cannot Exceed 30,000 Seconds",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    issue = true;
                    return;
                } else {
                    issue = false;
                }
                inputs[input_id] = input_val;
            });

            $(".trap").each(function () {
                let input_id = $(this).attr("id");
                let input_val = $(this).prop("checked");

                inputs[input_id] = input_val;
            });


            if (!issue) {
                $.ajax({
                    type: "POST",
                    url: "/thrshd_set",
                    contentType: "application/json;charset=UTF-8",
                    data: JSON.stringify(inputs),
                    success: function (response) {
                        Swal.fire({
                            title: "Success",
                            text: response,
                            icon: "success",
                            confirmButtonText: "OK",
                        });
                    },
                });
            }
        });
        $("#thrshd_cancel").click(function () {
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { thrshd } = data;

                    for (var key in thrshd) {
                        if (thrshd.hasOwnProperty(key)) {
                            var value = thrshd[key];
                            var element = document.getElementById(key);

                            if (element) {
                                if (key.endsWith("_trap")) {
                                    element.checked = value;
                                } else {
                                    element.value = Math.round(value * 100) / 100;
                                }
                            }
                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#inspection_time_apply").click(function () {
            let ev_open_time = $("#ev_open_time").val();
            let water_open_time = $("#water_open_time").val();
            let pump_open_time = $("#pump_open_time").val();

            if (
                ev_open_time <= 0 ||
                ev_open_time > 30000 ||
                water_open_time <= 0 ||
                water_open_time > 30000 ||
                pump_open_time <= 0 ||
                pump_open_time > 30000
            ) {
                Swal.fire({
                    title: "Error",
                    text: "The Accepted Range is 1 to 30,000",
                    icon: "error",
                    confirmButtonText: "OK",
                });
                return;
            }

            $.ajax({
                type: "POST",
                url: "/inspection_time_apply",
                data: JSON.stringify({
                    ev_open_time: ev_open_time,
                    water_open_time: water_open_time,
                    pump_open_time: pump_open_time,
                }),
                success: function (response) {
                    Swal.fire({
                        title: "Success",
                        text: response,
                        icon: "success",
                        confirmButtonText: "OK",
                    });
                },
                error: function (xhr, status, error) {
                    console.error("Error sending data:", error);
                },
            });
        });

        $("#inspection_time_cancel").click(function () {
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { inspection_time } = data;

                    for (key in inspection_time) {
                        if (inspection_time.hasOwnProperty(key)) {
                            $("#total_inspect_time").val(inspection_time[key]);
                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#version_apply").click(function () {
            var sn = $("#SN").val();
            var model = $("#Model").val();
            var version = $("#Version").val();
            var partNumber = $("#PartNumber").val();

            var dataToSend = {
                SN: sn,
                Model: model,
                Version: version,
                PartNumber: partNumber,
            };

            $.ajax({
                type: "POST",
                url: "/write_version",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(dataToSend),
                success: function (response) {
                    Swal.fire({
                        title: "Success",
                        text: response,
                        icon: "success",
                        confirmButtonText: "OK",
                    });
                    console.log("Data sent successfully:", response);
                },
                error: function (xhr, status, error) {
                    console.error("Error sending data:", error);
                },
            });
        });

        $("#version_cancel").click(function () {
            $.ajax({
                url: "/read_version",
                method: "GET",
                success: function (data) {
                    json_data = data["FW_Info"];
                    plc_version = data["plc_version"];

                    for (var key in json_data) {
                        if (json_data.hasOwnProperty(key)) {
                            var value = json_data[key];
                            var element = document.getElementById(key);
                            if (["SN", "Model", "Version"].includes(key)) {
                                element.value = value;
                            }
                        }
                    }
                    $("#PLC").val(plc_version);
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#apply_timeout_light").click(function () {
            var timeoutLight = $("#timeoutLight").val();

            var dataToSend = {
                timeoutLight: timeoutLight,
            };
            if (Number.isInteger(Number(timeoutLight)) && timeoutLight > 0) {
                $.ajax({
                    type: "POST",
                    url: "/set_timeout",
                    contentType: "application/json;charset=UTF-8",
                    data: JSON.stringify(dataToSend),
                    success: function (response) {
                        Swal.fire({
                            title: "Success",
                            text:
                                "Timeout value updated to " +
                                timeoutLight +
                                " seconds",
                            icon: "success",
                            confirmButtonText: "OK",
                        }).then((result) => {
                            if (result.isConfirmed) {
                                location.reload();
                            }
                        });
                    },
                    error: function (xhr, status, error) {
                        console.error("Error sending data:", error);
                    },
                });
            } else {
                Swal.fire({
                    title: "Error",
                    text: "Time must be positive integers",
                    icon: "error",
                    confirmButtonText: "OK",
                });
            }
        });

        $("#cancel_timeout_light").click(function () {
            $.ajax({
                url: "/get_timeout",
                method: "GET",
                success: function (data) {
                    for (var key in data) {
                        if (data.hasOwnProperty(key)) {
                            var value = data[key];
                            var element = document.getElementById(key);
                            element.value = value;
                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#pid_setting_temp_apply").click(function () {
            let inputs = {};
            let inputs_pressure = {};

            let flag = false;

            $(".t_data").each(function () {
                let input_id = $(this).attr("id");
                let input_val = $(this).val();
                let check_val = cvtInputValue(input_val);
                if (input_val !== check_val || input_val == "") {
                    Swal.fire({
                        title: "Error",
                        text: "The format of setting is not valid",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                }

                if (
                    input_id === "sample_time_temp" &&
                    (input_val < 0 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "Sampling time must be between 0 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "kp_temp" &&
                    (input_val < 1 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KP must be between 1 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "ki_time_temp" &&
                    (input_val < 0 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KI time must be between 0 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "kd_temp" &&
                    (input_val < 0 || input_val > 100)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KD temperature must be between 0 and 100",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "kd_time_temp" &&
                    (input_val < 0 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KD time must be between 0 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                }

                inputs[input_id] = input_val;

                console.log(inputs);
            });

            $(".p_data").each(function () {
                let input_id = $(this).attr("id");
                let input_val = $(this).val();
                let check_val = cvtInputValue(input_val);

                if (input_val !== check_val || input_val == "") {
                    Swal.fire({
                        title: "Error",
                        text: "The format of setting is not valid",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                }

                if (
                    input_id === "sample_time_pressure" &&
                    (input_val < 0 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "Sampling time must be between 0 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "kp_pressure" &&
                    (input_val < 1 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KP must be between 1 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "ki_time_pressure" &&
                    (input_val < 0 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KI time must be between 0 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "kd_pressure" &&
                    (input_val < 0 || input_val > 100)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KD pressure must be between 0 and 100",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                } else if (
                    input_id === "kd_time_pressure" &&
                    (input_val < 0 || input_val > 32767)
                ) {
                    Swal.fire({
                        title: "Error",
                        text: "KD Time must be between 0 and 32767",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    flag = true;
                    return;
                }

                inputs_pressure[input_id] = input_val;
            });

            comebined_data = {
                temp: inputs,
                pressure: inputs_pressure,
            };

            if (!flag) {
                $.ajax({
                    url: "/store_pid",
                    method: "POST",
                    contentType: "application/json;charset=UTF-8",
                    data: JSON.stringify(comebined_data),
                    success: function (response) {
                        Swal.fire({
                            title: "Success",
                            text: response,
                            icon: "success",
                            confirmButtonText: "OK",
                        });
                    },
                    error: function (e) {
                        console.error("Error sending data:", e);
                    },
                });
            }
        });

        $("#pid_setting_temp_cancel").click(function () {
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { pid_temp, pid_pressure } = data;

                    for (key in pid_pressure) {
                        if (pid_pressure.hasOwnProperty(key)) {
                            var value = pid_pressure[key];
                            var element = document.getElementById(key);
                            if (element !== null) {
                                element.value = value;
                            }
                        }
                    }

                    for (key in pid_temp) {
                        if (pid_temp.hasOwnProperty(key)) {
                            var value = pid_temp[key];
                            var element = document.getElementById(key);
                            if (element !== null) {
                                element.value = value;
                            }
                        }
                    }
                },
            });
        });

        $("#auto_setting_apply").click(function () {
            let auto_broken_temperature = Number($("#auto_broken_temperature").val());
            let auto_broken_pressure = Number($("#auto_broken_pressure").val());


            if (!Number.isInteger(auto_broken_temperature) || !Number.isInteger(auto_broken_pressure)) {
                Swal.fire({
                    title: "Error",
                    text: "Please Enter Integers Only",
                    icon: "error",
                    confirmButtonText: "OK",
                });

                return;
            }

            if (
                auto_broken_temperature > 100 ||
                auto_broken_temperature < 0 ||
                auto_broken_pressure > 100 ||
                auto_broken_pressure < 0
            ) {
                Swal.fire({
                    title: "Error",
                    text: "Valid Input Range is between 0 to 100",
                    icon: "error",
                    confirmButtonText: "OK",
                });
                return;
            }

            $.ajax({
                type: "POST",
                url: "/auto_setting_apply",
                data: JSON.stringify({
                    auto_broken_temperature: auto_broken_temperature,
                    auto_broken_pressure: auto_broken_pressure,

                }),
                success: function (response) {
                    Swal.fire({
                        title: "Success",
                        text: response.message,
                        icon: "success",
                        confirmButtonText: "OK",
                    });
                },
                error: function (xhr, status, error) {
                    console.error("Error sending data:", error);
                },
            });
        });

        $("#auto_setting_cancel").click(function () {
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { auto_setting } = data;

                    for (key in auto_setting) {
                        if (auto_setting.hasOwnProperty(key)) {
                            $("#auto_broken_temperature").val(auto_setting["auto_broken_temperature"]);
                            $("#auto_broken_pressure").val(auto_setting["auto_broken_pressure"]);
                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#resetAdjust").click(function () {
            Swal.fire({
                title: "Confirm to proceed",
                text: "Revert to factory settings?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes",
                cancelButtonText: "No",
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "/resetAdjust",
                        contentType: "application/json;charset=UTF-8",
                        success: function (response) {
                            Swal.fire({
                                title: `${response.message}`,
                                icon: "success",
                            }).then(() => {
                                location.reload();
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error:", error);
                            Swal.fire({
                                title: "Failed to connect to server",
                                icon: "error",
                            });
                        },
                    });
                }
            });
        });

        $(".importBtn_adjust").click(function () {
            $("#adjust_file").click();
        });

        let limit = 50000;
        let last_file_content = null;
        let last_file_name = null;

        $("#adjust_file").change(function () {
            let file = this.files[0];
            if (!file) {
                Swal.fire({
                    title: "Warning",
                    text: "Please Select a File",
                    icon: "warning",
                    confirmButtonText: "OK",
                });
                return;
            }

            let reader = new FileReader();
            reader.onload = function (e) {
                try {
                    let data = JSON.parse(e.target.result);

                    let exceedsLimit = checkValues(data);

                    let formattedLimit = limit.toLocaleString();

                    if (Object.keys(data) == "sensor_adjust") {
                        if (exceedsLimit) {
                            if (
                                e.target.result === last_file_content &&
                                file.name == last_file_name
                            ) {
                                Swal.fire(
                                    "Warning",
                                    `Uploading the same wrong content`,
                                    "warning"
                                );
                            } else {
                                Swal.fire(
                                    "Warning",
                                    `File cannot contains values exceeding ${formattedLimit}`,
                                    "warning"
                                );
                            }
                        } else {
                            import_file(file);
                        }
                    } else {
                        Swal.fire(
                            "Warning",
                            `File uploaded to the incorrect location`,
                            "warning"
                        );
                    }
                    last_file_content = e.target.result;
                    last_file_name = file.name;
                } catch (error) {
                    Swal.fire("Error", "Invalid JSON file format", "error");
                }
            };
            reader.readAsText(file);
            $("#adjust_file").val("");
        });

        function checkValues(json_data) {
            let exceed = false;

            check_exceed(json_data);

            function check_exceed(value) {
                if (typeof value === "number" && value > limit) {
                    exceed = true;
                } else if (typeof value === "object" && value !== null) {
                    Object.values(value).forEach(check_exceed);
                }
            }

            return exceed;
        }

        function import_file(file) {
            var formData = new FormData();
            formData.append("file", file);

            Swal.fire({
                title: "Confirm to proceed",
                text: "The uploaded file will overwrite the existing data",
                icon: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes",
                cancelButtonText: "No",
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "/import_settings",
                        data: formData,
                        processData: false,
                        contentType: false,
                        success: function (response) {
                            Swal.fire({
                                title: `${response.message}`,
                                icon: "success",
                            }).then(() => {
                                location.reload();
                            });
                        },
                        error: function (xhr, status, error) {
                            Swal.fire({
                                title: `${error}`,
                                icon: "success",
                            });
                        },
                    });
                }
            });
        }

        $("#adjust_export").click(function () {
            let dataToSend = {
                exp_alt_chk: false,
                exp_ntw_chk: false,
                exp_snmp_chk: false,
                exp_psw_chk: false,
                exp_pid_set: false,
                exp_system_chk: false,
            };

            if (user_status) {
                dataToSend.exp_psw_adj = true;
            }

            $.ajax({
                type: "POST",
                url: "/export_settings",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(dataToSend),
                success: function (data) {
                    var jsonData = JSON.stringify(data, null, 4);

                    var blob = new Blob([jsonData], {
                        type: "application/json",
                    });
                    var url = window.URL.createObjectURL(blob);
                    var a = document.createElement("a");
                    a.href = url;
                    a.download = "data.json";
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                },
            });
        });

        $("#resetThrshd").click(function () {
            Swal.fire({
                title: "Confirm to proceed",
                text: "Revert to factory settings?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes",
                cancelButtonText: "No",
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "/resetThrshd",
                        contentType: "application/json;charset=UTF-8",
                        success: function (response) {
                            Swal.fire({
                                title: `${response.message}`,
                                icon: "success",
                            }).then(() => {
                                location.reload();
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error:", error);
                            Swal.fire({
                                title: "Failed to connect to server",
                                icon: "error",
                            });
                        },
                    });
                }
            });
        });

        $(".importBtn_thrshd").click(function () {
            $("#thrshd_file").click();
        });

        $("#thrshd_file").change(function () {
            let file = this.files[0];
            if (!file) {
                Swal.fire({
                    title: "Warning",
                    text: "Please Select a File",
                    icon: "warning",
                    confirmButtonText: "OK",
                });
                return;
            }

            let reader = new FileReader();
            reader.onload = function (e) {
                try {
                    let data = JSON.parse(e.target.result);

                    let exceedsLimit = checkValues(data);
                    let formattedLimit = limit.toLocaleString();

                    if (Object.keys(data) == "thrshd") {
                        if (exceedsLimit) {
                            if (e.target.result == last_file_content) {
                                Swal.fire(
                                    "Warning",
                                    `Uploading the same wrong content`,
                                    "warning"
                                );
                            } else {
                                Swal.fire(
                                    "Warning",
                                    `File cannot contains values exceeding ${formattedLimit}`,
                                    "warning"
                                );
                            }
                        } else {
                            import_file(file);
                        }
                    } else {
                        Swal.fire(
                            "Warning",
                            `File uploaded to the incorrect location`,
                            "warning"
                        );
                    }
                    last_file_content = e.target.result;
                } catch (error) {
                    Swal.fire("Warning", "Invalid JSON file format", "warning");
                }
            };
            reader.readAsText(file);
            $("#thrshd_file").val("");
        });

        $("#thrshd_export").click(function () {
            let dataToSend = {
                exp_alt_chk: true,
                exp_ntw_chk: false,
                exp_snmp_chk: false,
                exp_psw_chk: false,
                exp_pid_set: false,
                exp_psw_adj: false,
                exp_system_chk: false,
            };

            $.ajax({
                type: "POST",
                url: "/export_settings",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(dataToSend),
                success: function (data) {
                    var jsonData = JSON.stringify(data, null, 4);

                    var blob = new Blob([jsonData], {
                        type: "application/json",
                    });
                    var url = window.URL.createObjectURL(blob);
                    var a = document.createElement("a");
                    a.href = url;
                    a.download = "data.json";
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                },
            });
        });

        $(".pid_import").click(function () {
            $("#pid_file").click();
        });

        $("#pid_file").change(function () {
            let file = this.files[0];
            if (!file) {
                Swal.fire({
                    title: "Warning",
                    text: "Please Select a File",
                    icon: "warning",
                    confirmButtonText: "OK",
                });
                return;
            }

            let reader = new FileReader();
            reader.onload = function (e) {
                try {
                    let data = JSON.parse(e.target.result);
                    console.log({ data });

                    let exceedsLimit = checkValues(data);
                    let formattedLimit = limit.toLocaleString();

                    if (Object.keys(data) == "pid_setting") {
                        if (exceedsLimit) {
                            if (e.target.result == last_file_content) {
                                Swal.fire(
                                    "Warning",
                                    `Uploading the same wrong content`,
                                    "warning"
                                );
                            } else {
                                Swal.fire(
                                    "Warning",
                                    `File cannot contains values exceeding ${formattedLimit}`,
                                    "warning"
                                );
                            }
                        } else {
                            import_file(file);
                        }
                    } else {
                        Swal.fire(
                            "Warning",
                            `File uploaded to the incorrect location`,
                            "warning"
                        );
                    }
                    last_file_content = e.target.result;
                } catch (error) {
                    Swal.fire("Error", "Invalid JSON file format", "error");
                }
            };
            reader.readAsText(file);
            $("#pid_file").val("");
        });

        $("#pid_export").click(function () {
            let dataToSend = {
                exp_alt_chk: false,
                exp_ntw_chk: false,
                exp_snmp_chk: false,
                exp_psw_chk: false,
                exp_pid_set: true,
                exp_psw_adj: false,
                exp_system_chk: false,
            };

            $.ajax({
                type: "POST",
                url: "/export_settings",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(dataToSend),
                success: function (data) {
                    var jsonData = JSON.stringify(data, null, 4);

                    var blob = new Blob([jsonData], {
                        type: "application/json",
                    });
                    var url = window.URL.createObjectURL(blob);
                    var a = document.createElement("a");
                    a.href = url;
                    a.download = "data.json";
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                },
            });
        });

        $("#resetPID").click(function () {
            Swal.fire({
                title: "Confirm to proceed",
                text: "Revert to factory settings?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes",
                cancelButtonText: "No",
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "/resetPID",
                        contentType: "application/json;charset=UTF-8",
                        success: function (response) {
                            Swal.fire({
                                title: `${response.message}`,
                                icon: "success",
                            }).then(() => {
                                location.reload();
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error:", error);
                            Swal.fire({
                                title: "Failed to connect to server",
                                icon: "error",
                            });
                        },
                    });
                }
            });
        });

        $("#updateIpBtn").on("click", function () {
            var modbusIp = $("#modbusIpInput").val();

            if (!isValidIp(modbusIp)) {
                Swal.fire({
                    title: "Error",
                    text: "Please enter a valid IP address",
                    icon: "error",
                    confirmButtonText: "OK",
                });
                return;
            }

            $.ajax({
                url: "/update_modbus_ip",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify({ modbus_ip: modbusIp }),
                success: function (data) {
                    Swal.fire({
                        title: "Success",
                        text: `Modbus IP Updated Successfully.`,
                        icon: "success",
                        confirmButtonText: "OK",
                    });
                },
                error: function (jqXHR) {
                    Swal.fire({
                        title: "Error",
                        text: "Fail to update settings",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                },
            });
        });

        $("#update_rack").click(function () {
            let checkbox = [];
            for (let i = 1; i <= 10; i++) {
                let check = $(`#rack${i}_enable`);
                checkbox.push(check.prop("checked"));
            }

            $.ajax({
                type: "POST",
                url: "/set_rack_engineer",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(checkbox),
                success: function (r) {
                    if (r.status == "success") {
                        Swal.fire({
                            title: "Success",
                            text: r.message,
                            icon: "success",
                            confirmButtonText: "OK",
                        });
                    } else if (r.status == "error") {
                        Swal.fire({
                            title: "Error",
                            text: r.message,
                            icon: "error",
                            confirmButtonText: "OK",
                        });
                    }
                },
                error: function (xhr, statusText) {
                    console.log("Error:", statusText);
                    Swal.fire({
                        title: "Error",
                        text: "rack update failed. Please try again.",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                },
            });
        });


        $("#cancel_rack").click(function () {
            // location.reload()
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { visibility } = data;

                    for (key in visibility) {
                        if (visibility.hasOwnProperty(key)) {
                            var value = visibility[key];
                            var element = document.getElementById(key);
                            if (element) {
                                element.checked = value;
                            }

                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        })

        $("#apply_valve_setting").click(function () {
            let data = {};
            data.ta = $("#ta_close_valve").val();
            data.t1 = $("#t1_close_valve").val();

            $.ajax({
                type: "POST",
                url: "/set_valve_condition",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(data),
                success: function (r) {
                    if (r.status == "success") {
                        Swal.fire({
                            title: "Success",
                            text: r.message,
                            icon: "success",
                            confirmButtonText: "OK",
                        });
                    } else if (r.status == "error") {
                        Swal.fire({
                            title: "Error",
                            text: r.message,
                            icon: "error",
                            confirmButtonText: "OK",
                        });
                    } else if (r.status == "over_range") {
                        Swal.fire({
                            title: "Error",
                            text: r.message,
                            icon: "error",
                            confirmButtonText: "OK",
                        });
                    }
                },
                error: function (xhr, statusText) {
                    console.log("Error:", statusText);
                    Swal.fire({
                        title: "Error",
                        text: "Setting failed. Please try again.",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                },
            });
        });

        $("#resetValve").click(function () {
            Swal.fire({
                title: "Confirm to proceed",
                text: "Revert to factory settings?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes",
                cancelButtonText: "No",
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "/resetValve",
                        contentType: "application/json;charset=UTF-8",
                        success: function (response) {
                            Swal.fire({
                                title: `${response.message}`,
                                icon: "success",
                            }).then(() => {
                                location.reload();
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error:", error);
                            Swal.fire({
                                title: "Failed to connect to server",
                                icon: "error",
                            });
                        },
                    });
                }
            });
        });

        $("#resetAuto").click(function () {
            Swal.fire({
                title: "Confirm to proceed",
                text: "Revert to factory settings?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes",
                cancelButtonText: "No",
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "/resetAuto",
                        contentType: "application/json;charset=UTF-8",
                        success: function (response) {
                            Swal.fire({
                                title: `${response.message}`,
                                icon: "success",
                            }).then(() => {
                                location.reload();
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error:", error);
                            Swal.fire({
                                title: "Failed to connect to server",
                                icon: "error",
                            });
                        },
                    });
                }
            });
        });

        $("#ver_switch_apply").click(function () {
            let median_switch = $("#median_switch").val();
            let coolant_quality_meter_switch = $("#coolant_quality_meter_switch").val();
            let fan_count_switch = $("#fan_count_switch").val();

            if (median_switch == "old") {
                median_switch = true;
            } else {
                median_switch = false;
            }

            if (coolant_quality_meter_switch == "old") {
                coolant_quality_meter_switch = true;
            } else {
                coolant_quality_meter_switch = false;
            }

            if (fan_count_switch == "old") {
                fan_count_switch = true;
            } else {
                fan_count_switch = false;
            }

            combined_data = {
                median_switch: median_switch,
                coolant_quality_meter_switch: coolant_quality_meter_switch,
                fan_count_switch: fan_count_switch
            };

            console.log(combined_data);


            $.ajax({
                url: "/version_switch",
                method: "POST",
                contentType: "application/json;charset=UTF-8",
                data: JSON.stringify(combined_data),
                success: function (r) {
                    if (r.status == "Error") {
                        Swal.fire({
                            title: "Error",
                            text: r.message,
                            icon: "error",
                            confirmButtonText: "OK",
                        });
                    } else {
                        Swal.fire({
                            title: "Success",
                            text: r.message,
                            icon: "success",
                            confirmButtonText: "OK",
                        });
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $("#cancel_valve_setting").click(function () {
            $.ajax({
                url: "/get_data_engineerMode",
                method: "GET",
                success: function (data) {
                    const { valve } = data;

                    for (key in valve) {
                        if (valve.hasOwnProperty(key)) {
                            var value = valve[key];
                            altered_key = key + "_close_valve";
                            var element = document.getElementById(altered_key);
                            if (element) {
                                element.value = value;
                            }
                        }
                    }
                },
                error: function (error) {
                    console.error("Error fetching data:", error);
                },
            });
        });

        $(".title").each(function () {
            if ($(this).data("default") === "collapsed") {
                $(this).addClass("collapsed");
            }
        });

        $(".data-before-trigger").click(function () {
            let $title = $(this).closest(".title");
            $title.toggleClass("collapsed");
            if ($title.hasClass("collapsed")) {
                $title.attr("data-before", $title.attr("data-label") + " ");
            } else {
                $title.attr("data-before", $title.attr("data-label") + " ");
            }
        });

        const width = $(window).width();
        const height = $(window).height();

        if (width > 1600) {
            $(".threshold .content .row .content_box .col-1 .form-control").css(
                "width",
                ""
            );
        } else {
            $(".threshold .content .row .content_box .col-1 .form-control").css(
                "width",
                "75px"
            );
        }
    });
</script>
{% endblock %}